language: scala
scala:
- 2.11.7
branches:
  only:
  - master
notifications:
  email: false
jdk:
  - oraclejdk8
before_install:
  - sudo sed -i -e s/table_cache/table_open_cache/ -e /log_slow_queries/d /etc/mysql/my.cnf
  - sudo apt-key adv --keyserver pgp.mit.edu --recv-keys 5072E1F5
  - sudo add-apt-repository 'deb http://repo.mysql.com/apt/ubuntu/ precise mysql-5.6'
  - sudo apt-get -qq update           
  - sudo apt-get -qq update
  - sudo apt-get -qq -o Dpkg::Options::=--force-confold install mysql-server-5.6
before_script:
  - mysql -u root < scripts/db_clean.sql
  - mysql -u root < scripts/db_init.sql
  - mysql -u scim_test -p1e0OZH5f9asCJ0Anj11ia0Wmy scim_test < scripts/db_schema.sql
  - mysql -u scim_test -p1e0OZH5f9asCJ0Anj11ia0Wmy scim_test -e 'show tables;'